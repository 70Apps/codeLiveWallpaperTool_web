:root{
	--bg: #f7fbff;
	--card: #ffffff;
	--muted: #6b7280;
	/* Styles scoped only to the generator's <main class="generator"> to avoid
	   interfering with global Jekyll/site styles. */

	main.generator .container{
		width:100%;
		max-width:1100px;
		background: linear-gradient(180deg,#0b1220 0%, #0f1724 100%);
		border-radius:14px;
		padding:28px;
        margin: 0 auto;
		box-shadow: 0 8px 30px rgba(2,6,23,0.8);
		color: #e6eef8;
	}

	main.generator .hero h1{margin:0;font-size:1.6rem;color:#f8fafc}
	main.generator .lead{color:#9aa4b2;margin-top:8px}

	main.generator .controls{display:flex;flex-direction:column;gap:16px;margin-top:18px}

	main.generator .file-label{display:inline-block;padding:10px 14px;background:transparent;border:1px solid rgba(255,255,255,0.06);border-radius:10px;cursor:pointer;color:#60a5fa;width:max-content;box-shadow:none}
	/* hide native file input — label triggers file picker */
	main.generator input[type="file"]{position:absolute!important;left:-9999px;width:1px;height:1px;overflow:hidden}

	/* format toggle buttons */
	.format-selector{display:flex;flex-direction:column;gap:8px;}
	.format-toggle{display:inline-flex;background:rgba(255,255,255,0.02);padding:4px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)}
	.format-btn{background:transparent;border:0;color:#cfe7ff;padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:600}
	.format-btn.active{background:linear-gradient(180deg, rgba(96,165,250,0.12), rgba(96,165,250,0.06));color:#fff;box-shadow:0 6px 18px rgba(37,99,235,0.12)}
	.format-btn:not(.active):hover{background:rgba(255,255,255,0.01)}
	.format-selector .tips{font-size:12px;color:#aaa;padding:6px 0 0 8px;}

	/* gradient controls */
	.gradient-controls{display:flex;flex-direction:column;gap:8px;align-items:center;width:100%}
	.gradient-controls .colors{display:flex;gap:8px}
	.gradient-swatch{width:140px;height:48px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);box-shadow: inset 0 1px 0 rgba(255,255,255,0.02)}

/* recommendation swatches ，支持左右滚动	*/
.recommend-swatches{display:flex;gap:8px;align-items:center;width:100%;}
.recommend-swatches .recommend{display:flex;gap:8px;}
.recommend-swatches .recommend::-webkit-scrollbar{display:none;}
.recommend-swatches .recommend{width:100%;}
@media screen and (min-width: 800px) { 
}

.recommend{width:100%;margin-bottom:12px;height:100px;overflow-x: scroll;}
.recommend > label{display:block;color:#cfe7ff;margin-bottom:8px;font-weight:700}
.recommend-list{display:flex;gap:10px;flex-wrap:nowrap}
.recommend-swatch{display:flex;flex-direction:column;align-items:center;gap:6px;padding:6px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:rgba(255,255,255,0.01);cursor:pointer;min-width:72px}
.recommend-swatch:focus{outline:2px solid rgba(96,165,250,0.12);outline-offset:2px}
.swatch-preview{width:64px;height:64px;border-radius:6px;display:block}
.swatch-meta{font-size:0.8rem;color:#9aa4b2}

/* larger controls for easier color/angle picking */
main.generator .gradient-controls .colors input[type="color"]{
	width:64px;
	height:64px;
	padding:4px;
	border-radius:8px;
	border:1px solid rgba(255,255,255,0.06);
	background:transparent;
	cursor:pointer;
}

main.generator .gradient-controls input[type="range"]{
	width:100%;
	height:28px;
	background:transparent;
}
main.generator .gradient-controls input[type="range"]::-webkit-slider-thumb{ -webkit-appearance:none;width:18px;height:18px;border-radius:50%;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,0.4)}
main.generator #angle-value{font-weight:700;font-size:1.05rem;margin-left:8px}

/* make the swatch preview larger and reuse upload-preview container */
main.generator .gradient-swatch{width:220px;height:92px}
main.generator .upload-preview::after{display:none}
main.generator .upload-preview .color-swatch{width:100%;height:100%;border-radius:8px;background:linear-gradient(180deg,#ff7a18,#af002d)}

	/* disabled/unsupported state */
	.format-btn.disabled,
	.format-btn[disabled]{
		opacity:0.45;
		cursor:not-allowed;
		filter:grayscale(0.15);
	}

	/* Upload preview: show simple placeholder text/icon until image loads */
	main.generator .upload-preview{
		display:flex;
		align-items:center;
		justify-content:center;
		padding:8px;
		border-radius:10px;
		background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));
		border:1px solid rgba(255,255,255,0.04);
		width:360px;
		aspect-ratio: 16 / 9;
		position:relative;
		align-self:flex-end; /* push preview to right */
		overflow:hidden;
	}
	main.generator .upload-preview::after{
		content: "No image selected";
		color:#9aa4b2;
		font-size:0.95rem;
		position:absolute;
		pointer-events:none;
		left:50%;
		top:50%;
		transform:translate(-50%,-50%);
	}
	main.generator .upload-preview.img-loaded::after{display:none}

	main.generator .upload-preview img{width:100%;object-fit:contain;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.4);opacity:0;transition:opacity .18s ease}
	main.generator .upload-preview img.loaded{opacity:1}

	/* two-column layout: iPhone on left (40%), others stacked on right (60%) */
	main.generator .preview-grid{
		display:grid;
		 /* Columns sized so the left (iPhone) preview height ≈ sum of the three right previews' heights.
		    Calculation (rough):
		      left height factor = h/w for iPhone = 4302/1980 ≈ 2.1727
		      right sum factor = sum(h/w) for iPad/Mac/Watch = 1548/2064 + 2538/4512 + 1984/1664 ≈ 2.5048
		      To make L*2.1727 ≈ R*2.5048 => L/R ≈ 2.5048/2.1727 ≈ 1.1536
		      Therefore left fraction ≈ 1.1536/(1+1.1536) ≈ 0.535 (≈53.5%) and right ≈46.5%.
		*/
		grid-template-columns: minmax(160px, 57.5%) 42.5%;
		 /* rows sized proportionally to iPad/mac/watch heights (reciprocal of their aspect ratios) */
		/* grid-template-rows: 0.80fr 0.65fr 1.2fr; */
		/* grid-template-rows: 1.244fr 0.75*1.323fr 1.59*1.155fr; */
        /* grid-template-rows: 1.244fr 0.99225fr 1.83645fr; */
		gap:10px;
		margin-top:8px;
		align-items:stretch;
	}

	/* ensure first item (iPhone) spans all three rows */
	main.generator .preview-grid > .preview-item:first-child{
		grid-column: 1 / 2;
		grid-row: 1 / 4;
	}

	/* right column items automatically flow into column 2 rows 1..3 */
	main.generator .preview-item{background:transparent;padding:6px;border-radius:8px;text-align:center;border:1px solid rgba(255,255,255,0.03);box-shadow:0 6px 18px rgba(2,6,23,0.6);position:relative;min-height:120px;display:flex;flex-direction:column}
	main.generator .preview-item h3{margin:0 0 8px 0;font-size:1rem;color:#e6eef8}
	main.generator .preview-item::after{content:"No preview";color:#6b7280;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%);text-align:center}
	main.generator .preview-item.img-loaded::after{display:none}

	/* images use contain to show whole image */

	/* ensure image area grows to fill available space and button stays below */
	.preview-media{flex:1 1 auto;display:block;overflow:hidden;border-radius:6px}
	main.generator .preview-item img{width:100%;object-fit:contain;display:block;border-radius:6px;background:linear-gradient(180deg,#0b1220,#0f1724);opacity:0;transition:opacity .18s ease}
	main.generator .preview-item img.loaded{opacity:1}

	/* make download button sit under image */
	main.generator .preview-item .download-btn{margin-top:8px;flex:0 0 auto}

	/* small screens: stack vertically with equal widths */
	@media (max-width:800px){
		main.generator .preview-grid{grid-template-columns:1fr;grid-template-rows:none}
		main.generator .preview-grid > .preview-item:first-child{grid-row:auto;grid-column:auto}
		main.generator .preview-item{min-height:160px}
	}

	/* controls row: left (upload + format) and right (preview) */
	main.generator .controls-row{display:flex;gap:18px;align-items:start;margin-top:12px}
	main.generator .upload-right{flex:0 0 45%;display:flex;flex-direction:column;gap:12px;align-items:center}
	main.generator .upload-left{flex:1 1 55%;display:flex;align-items:center;justify-content:center}

	@media (max-width:800px){
		main.generator .controls-row{flex-direction:column}
		main.generator .upload-left, main.generator .upload-right{flex:auto}
		main.generator .upload-left{width:100%;}
		main.generator .upload-right{width:100%;
            justify-content: center;
            align-items: center;}
	}

	/* Unified download button style for each preview card */
	main.generator .download-btn{
		margin:8px;
		padding:6px;
		background: rgba(96,165,250,0.06);
		color: #60a5fa;
		border: 1px solid rgba(96,165,250,0.14);
		border-radius:6px;
		cursor:pointer;
		font-size:0.9rem;
		align-self:stretch;
		transition:transform .12s ease,box-shadow .12s ease,background-color .12s ease;
	}
	main.generator .download-btn:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(37,99,235,0.12);background:rgba(96,165,250,0.12)}
	main.generator .download-btn:active{transform:translateY(0)}
	main.generator .download-btn:focus{outline:2px solid rgba(96,165,250,0.14);outline-offset:2px}

	main.generator .actions{display:flex;gap:12px;margin-top:8px;justify-content: center;}
	main.generator .btn-primary{background:#2563eb;color:#fff;border:none;padding:10px 16px;border-radius:10px;cursor:pointer;box-shadow:0 6px 18px rgba(37,99,235,0.12);transition:transform .12s ease,box-shadow .12s ease}
	main.generator .btn-primary:hover{transform:translateY(-2px);box-shadow:0 10px 24px rgba(37,99,235,0.16)}

	main.generator .visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}

	@media (max-width:800px){
		main.generator .container{padding:18px;width:auto;}
		main.generator .preview-item img{height:120px}
		main.generator .upload-preview{max-width:100%;margin:0 auto;}
        main.generator .actions{justify-content: center;width:100%}
	}
	.upload-preview{max-width:100%}
	.toolbar{text-align: center;}

/* utility class to hide elements until needed */
.hidden{display:none!important}
}

